<!-- templates/invoice_detail.html -->
{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invoice Receipt</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'>
  <path d='M20,80 L20,40 Q20,30 30,30 L70,30 Q80,30 80,40 L80,80 L75,90 L25,90 Z' fill='%230891b2'/>
  <rect x='45' y='10' width='10' height='20' fill='%230891b2'/>
  <circle cx='35' cy='60' r='4' fill='%23ffffff'/>
  <circle cx='65' cy='50' r='3' fill='%23ffffff'/>
  <circle cx='50' cy='70' r='3.5' fill='%23ffffff'/>
  <line x1='35' y1='60' x2='50' y2='70' stroke='%23ffffff' stroke-width='1.5'/>
  <line x1='65' y1='50' x2='50' y2='70' stroke='%23ffffff' stroke-width='1.5'/>
</svg>" type="image/svg+xml" />
    <style>
        :root {
            --primary: #0891b2;
            --dark: #0f172a;
            --light: #f8fafc;
        }

        body {
            background-color: #f9fafb;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }

        .invoice-container {
            background: white;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
            border-radius: 12px;
            overflow: hidden;
        }

        .invoice-header {
            background: linear-gradient(135deg, var(--primary), #0e7490);
            color: white;
            padding: 2.5rem 2rem;
            position: relative;
        }

        .invoice-logo {
            width: 50px;
            height: 50px;
            background: white;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1rem;
        }

        .invoice-logo svg {
            width: 32px;
            height: 32px;
        }

        .invoice-meta {
            text-align: right;
        }

        .invoice-section {
            padding: 1.8rem 2rem;
            border-bottom: 1px solid #f1f5f9;
        }

        .invoice-section:last-child {
            border-bottom: none;
        }

        .invoice-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
        }

        .invoice-item h4 {
            color: var(--dark);
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .invoice-footer {
            padding: 1.5rem 2rem;
            background: var(--light);
            text-align: center;
            color: #64748b;
            font-size: 0.9rem;
        }

        .download-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background: var(--primary);
            color: white;
            border: none;
            box-shadow: 0 4px 10px rgba(8, 145, 182, 0.3);
            transition: all 0.2s ease;
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            z-index: 1000;
        }

        .download-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(8, 145, 182, 0.4);
            background: #0e7490;
        }

        .download-btn svg {
            width: 24px;
            height: 24px;
        }

        .bank-details {
            background: #f0f9ff;
            border-left: 4px solid var(--primary);
            padding: 1rem;
            border-radius: 6px;
            margin-top: 1rem;
        }

        @media print {
            .download-btn {
                display: none !important;
            }
            body {
                background: white;
            }
        }
    </style>
</head>

<body>
    <div class="invoice-header">
        <h1>Penta Industries</h1>
        <p>Chemical Manufacturing Solutions</p>
    </div>

    <!-- Client & Order Info -->
    <div class="invoice-section">
        <div class="section-title">Client & Order Information</div>
        <div class="invoice-grid">
            <div class="invoice-item">
                <div>Client ID:</div>
                <div>CL-{{ order.client.id }}</div>
            </div>
            <div class="invoice-item">
                <div>Client Name:</div>
                <div>{{ order.client.name }}</div>
            </div>
            <div class="invoice-item">
                <div>Order ID:</div>
                <div>ORD-{{ order.order_id }}</div>
            </div>
            <div class="invoice-item">
                <div>Fabric Type:</div>
                <div>{{ order.fabric_type|title }}</div>
            </div>
            <div class="invoice-item">
                <div>Quantity:</div>
                <div>{{ order.quantity }} units</div>
            </div>
            <div class="invoice-item">
                <div>Reg Date:</div>
                <div>{{ order.due_date|date:"F d, Y" }}</div>
            </div>
            <div class="invoice-item">
                <div>Total Amount:</div>
                <div>${{ order.payment }}</div>
            </div>
        </div>
    </div>

    <!-- Payment Summary -->
    <div class="invoice-section">
        <div class="section-title">Payment Summary</div>
        <div class="invoice-grid">
            <div class="invoice-item">
                <div>Paid Amount:</div>
                <div>${{ paid_amount }}</div>
            </div>
            <div class="invoice-item">
                <div>Remaining Balance:</div>
                <div>${{ remaining_amount }}</div>
            </div>
        </div>
    </div>

    <!-- Bank Details -->
    <div class="bank-details">
        <div class="section-title">Bank Details</div>
        <div class="invoice-grid">
            <div class="invoice-item">
                <div>Bank Name:</div>
                <div>{{ bank_name }}</div>
            </div>
            <div class="invoice-item">
                <div>IBAN:</div>
                <div>{{ iban }}</div>
            </div>
        </div>
    </div>

    <div style="margin-top: 40px; text-align: center; font-size: 10px; color: #666;">
        Generated on {{ invoice.created_at|date:"F d, Y" }} | Invoice ID: INV-{{ invoice.id }}
    </div>
</body>

</html>